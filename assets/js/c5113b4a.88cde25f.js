"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[3683],{8872:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"sdk-documentation/ios-sdk/quick-start","title":"Quick Start","description":"1. Prerequisites","source":"@site/docs/5-sdk-documentation/3-ios-sdk/1-quick-start.md","sourceDirName":"5-sdk-documentation/3-ios-sdk","slug":"/sdk-documentation/ios-sdk/quick-start","permalink":"/dev-book/sdk-documentation/ios-sdk/quick-start","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"iOS SDK","permalink":"/dev-book/category/ios-sdk"},"next":{"title":"Tutorial","permalink":"/dev-book/sdk-documentation/ios-sdk/tutorial"}}');var s=i(4848),o=i(8453);const r={sidebar_position:1},l="Quick Start",a={},c=[{value:"1. Prerequisites",id:"1-prerequisites",level:2},{value:"2. Installing SDK",id:"2-installing-sdk",level:2},{value:"3. Initializing SDK",id:"3-initializing-sdk",level:2},{value:"4. Streaming Live",id:"4-streaming-live",level:2},{value:"5. Watching Live",id:"5-watching-live",level:2},{value:"6. Next step",id:"6-next-step",level:2}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"quick-start",children:"Quick Start"})}),"\n",(0,s.jsx)(n.h2,{id:"1-prerequisites",children:"1. Prerequisites"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Requirement","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"iOS 14 or higher"}),"\n",(0,s.jsx)(n.li,{children:"Xcode 13.4.1 or higher"}),"\n",(0,s.jsx)(n.li,{children:"Swift 5.6.1 or higher"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Creating Application","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"To use the SDK, you must first sign up for a membership in the user console on the web and then create an application. Direct membership is currently limited. If you would like to sign up, please contact Jocoos."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Getting Access Token from FlipFlop Cloud Server","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["To send and view live via the SDK, you need to get an access token from the server(due to security issues, the SDK does not provide a way to get an access token directly). You will need to implement your own server to get an access token using the FlipFlop Cloud API and then drop it to the client app. For more information on using the API, see the ",(0,s.jsx)(n.a,{href:"https://jocoos-public.github.io/dev-book/jekyll/2023-10-16-App-Member-API.html#member-login",children:"FlipFlop Cloud - Member Login API"})," documentation."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"2-installing-sdk",children:"2. Installing SDK"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Add to the Podfile."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-markdown",children:"target \u2018YourProject\u2019 do\n    use_frameworks!\n\n    # Pods for FlipFlopLiteSDK\n    pod 'FlipFlopLiteSDK', '1.8.0'\n\nend\n\npost_install do |installer|\n  installer.pods_project.targets.each do |target|\n    target.build_configurations.each do |config|\n      config.build_settings['BUILD_LIBRARY_FOR_DISTRIBUTION'] = 'YES'\n      config.build_settings['IPHONEOS_DEPLOYMENT_TARGET'] = '13.0'\n    end\n  end\nend\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"The SDK requires app permissions to use it. Please add the following permissions to your info.plist."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"Privacy - Bluetooth Always Usage Description      \nPrivacy - Camera Usage Description\nPrivacy - Microphone Usage Description\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"In AppDelegate.swift, you'll need to set an AVAudioSession on app startu"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-swift",children:"import AVFoundation\nimport FlipFlopLiteSDK\n\nfunc application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -> Bool {\n   let session = AVAudioSession.sharedInstance()\n   do {\n       try session.setCategory(.playAndRecord, mode: .default, options: [.defaultToSpeaker, .allowBluetooth])\n       try session.setActive(true)\n   } catch {\n       print(error)\n   }\n}\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"3-initializing-sdk",children:"3. Initializing SDK"}),"\n",(0,s.jsx)(n.p,{children:"Before you can use the features provided by the SDK, you'll need to initialize it. Use .dev to connect to a development server for testing, and .prod to connect to a production server when you're done with development"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"For your development convenience, FlipFlop Cloud provides a separate server (.dev) to access and test during development and a server (.prod) to access when running the actual service."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-swift",children:"import FlipFlopLiteSDK\n\nfunc application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -> Bool {\n  // connect to flipflop dev server\n  let config = FFLConfig(serverConfig: .dev)\n  FlipFlopLite.initialize(config: config)\n\n  let session = AVAudioSession.sharedInstance()\n  do {\n      try session.setCategory(.playAndRecord, mode: .default, options: [.defaultToSpeaker, .allowBluetooth])\n      try session.setActive(true)\n  } catch {\n      print(error)\n  }\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"4-streaming-live",children:"4. Streaming Live"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Create a StreamingController and create an FFLStreamer instance for live broadcasting. In ACCESS_TOKEN, put the token you received through the FlipFlop Cloud API"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-swift",children:"class StreamingController: UIViewController {\n    let streamer = FlipFlopLite.getStreamer(accessToken: ACCESS_TOKEN)\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Call the prepare() function to initialize the FFLStreamer. The prepare() function requires a UIView to view the broadcast screen as a parameter. (You can create the UIView using a storyboard, SnapKit, or any other method you're comfortable with)."}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"The preview, which is a UIView, displays the camera screen."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-swift",children:"class StreamingController: UIViewController {\n    @IBOutlet weak var preview: UIView!\n    \n    let streamer = FlipFlopLite.getStreamer(accessToken: ACCESS_TOKEN)\n    \n    override func viewDidLoad() {\n        super.viewDidLoad()\n\n        self.preview.bounds = self.view.bounds // full screen view\n        self.streamer.prepare(preview: self.preview)\n    }\n\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Call the enter() and start() functions in succession when starting a live broadcast."}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Please refer to the later documentation for the reasons for the split between enter() and start()."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-swift",children:"self.streamer?.enter()\nself.streamer?.start()\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"When we want to end the live broadcast, we call the stop() and exit() functions in succession."}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Please refer to the later documentation for the reasons for the split between stop() and exit()."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-swift",children:"self.streamer?.stop()\nself.streamer?.exit()\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"5-watching-live",children:"5. Watching Live"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["As a prelude to live viewing, you will need the following four values The access token can be obtained through the application server as described in section 1.3 above. The remaining items can be obtained through FlipFlop Lite's ",(0,s.jsx)(n.a,{href:"https://jocoos-public.github.io/dev-book/jekyll/2023-10-16-Member-VideoRoom-API.html#get-videorooms",children:"FlipFlop Cloud - Member Get VideoRooms API"}),". These values are also not provided directly by the SDK, so like the access token, they must be obtained directly through the application server and passed to the client for use."]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"access token, video room Id, channel Id, live url"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Create a StreamingViewController and create an FFLLivePlayer instance for live viewing. The ACCESS_TOKEN is the token received from the FlipFlop Cloud API, and the VIDEO_ROOM_ID and CHANNEL_ID are the values received from the live list."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-swift",children:"class StreamerViewController: UIViewController {\n    let livePlayer = FlipFlopLite.getLivePlayer(accessToken: ACCESS_TOKEN, videoRoomId: VIDEO_ROOM_ID, channelId: CHANNEL_ID)\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Call the prepare() function to initialize the FFLLivePlayer. The prepare() function takes a UIView to view the broadcast screen as the first parameter and a URL to watch live as the second parameter."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-swift",children:"class StreamerViewController: UIViewController {\n    @IBOutlet weak var view: UIView!\n    let livePlayer = FlipFlopLite.getLivePlayer(accessToken: ACCESS_TOKEN, videoRoomId: VIDEO_ROOM_ID, channelId: CHANNEL_ID)\n    \n    override func viewWillAppear(_ animated: Bool) {\n        super.viewWillAppear(animated)\n        livePlayer.prepare(view: self.view, uri: LIVE_URL))\n    }\n    \n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"When you want to start watching live, you call the enter() and start() functions"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-swift",children:"livePlayer.enter()\nlivePlayer.start()\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Call the stop() and exit() functions when you want to end the live watch."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-swift",children:"livePlayer.stop()\nlivePlayer.exit()\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"6-next-step",children:"6. Next step"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"This is just a quick overview of how to use the SDK. For more information, check out the following articles."}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>l});var t=i(6540);const s={},o=t.createContext(s);function r(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);