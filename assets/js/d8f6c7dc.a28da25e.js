"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[9230],{7348:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>s,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"sdk-documentation/android-sdk/quick-start","title":"Quick Start","description":"1. Prerequisites","source":"@site/docs/5-sdk-documentation/1-android-sdk/1-quick-start.md","sourceDirName":"5-sdk-documentation/1-android-sdk","slug":"/sdk-documentation/android-sdk/quick-start","permalink":"/dev-book/sdk-documentation/android-sdk/quick-start","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Android SDK","permalink":"/dev-book/category/android-sdk"},"next":{"title":"Tutorial","permalink":"/dev-book/sdk-documentation/android-sdk/tutorial"}}');var r=i(4848),a=i(8453);const s={sidebar_position:1},o="Quick Start",l={},d=[{value:"1. Prerequisites",id:"1-prerequisites",level:2},{value:"2. Installing SDK",id:"2-installing-sdk",level:2},{value:"3. Initializing SDK",id:"3-initializing-sdk",level:2},{value:"4. Streaming live",id:"4-streaming-live",level:2},{value:"5. Watching live",id:"5-watching-live",level:2},{value:"6. Next step",id:"6-next-step",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"quick-start",children:"Quick Start"})}),"\n",(0,r.jsx)(n.h2,{id:"1-prerequisites",children:"1. Prerequisites"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Requirement"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"SDK 24 or higher"}),"\n",(0,r.jsx)(n.li,{children:"Kotlin 1.6 or higher"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Creating application"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"To use the SDK, you must first sign up for a membership in the user console on the web and then create an application. Direct membership is currently limited. If you would like to sign up, please contact Jocoos."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Getting access token from server"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"You need an access token to use the SDK. The application server uses the FlipFlop Cloud API to get an access token and passes it to the client"}),"\n",(0,r.jsxs)(n.li,{children:["For more information on using the API, refer the ",(0,r.jsx)(n.a,{href:"https://jocoos-public.github.io/dev-book/jekyll/2023-10-16-App-Member-API.html#member-login",children:"FlipFlop Cloud - Member Login API"})," documentation."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"2-installing-sdk",children:"2. Installing SDK"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Add the code below to build.gradle in the root of your project."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-kotlin",children:"allprojects {\n    repositories {\n        maven { url 'https://jitpack.io' }\n    }\n}\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Add the code below to the build.gradle of the module you want to use the SDK for."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-kotlin",children:"dependencies {\n  implementation(\u2018com.jocoos.jocoos-public:ff-lite-android-sdk:1.8.2\u2019) {\n    transitive = true\n  }\n}\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"You need app permissions to use the SDK. You must have these permissions before you can go live. Add the following to your AndroidManifest.xml."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<uses-permission android:name="android.permission.INTERNET"/>\n<uses-permission android:name="android.permission.CAMERA"/>\n<uses-permission android:name="android.permission.RECORD_AUDIO"/>\n<uses-permission\n    android:name="android.permission.WRITE_EXTERNAL_STORAGE"\n    tools:ignore="ScopedStorage" />\n<uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE"\n    android:maxSdkVersion="32" />\n<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/>\n<uses-permission android:name="android.permission.READ_MEDIA_IMAGES" />\n\n<uses-feature android:name="android.hardware.camera.autofocus"/>\n<uses-feature\n    android:name="android.hardware.camera"\n    android:required="false" />\n'})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"3-initializing-sdk",children:"3. Initializing SDK"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Before you can use the features provided by the SDK, you need to initialize the SDK. Add the code below to your application's onCreate()."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-kotlin",children:"// connect to flipflop dev server\nval server = FFLServer.DEV\nFlipFlopLite.initialize(context = applicationContext, server = server)\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"4-streaming-live",children:"4. Streaming live"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Create an FFLStreamingView that connects to the StreamingFragment you use for live broadcasting. (The following will take up the entire camera screen.)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" encoding="utf-8"?>\n<androidx.constraintlayout.widget.ConstraintLayout\n   xmlns:android="http://schemas.android.com/apk/res/android"\n   xmlns:app="http://schemas.android.com/apk/res-auto"\n   xmlns:tools="http://schemas.android.com/tools"\n   android:layout_width="match_parent"\n   android:layout_height="match_parent">\n\n  <com.jocoos.flipflop.view.FFLStreamingView\n     android:id="@+id/streamingView"\n     android:layout_width="match_parent"\n     android:layout_height="match_parent"\n     android:background="@color/black"\n     app:layout_constraintBottom_toBottomOf="parent"\n     app:layout_constraintTop_toTopOf="parent" />\n\n</androidx.constraintlayout.widget.ConstraintLayout>\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Create a StramingFragment for live broadcasting."}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Creates an FFLStreamer instance for live broadcasting. When creating an instance, you need access token."}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-kotlin",children:"class StreamingFragment : Fragment() {\n    private var streamer: FFLStreamer? = null\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        val streamer = FlipFlopLite.getStreamer(\n            accessToken,\n        ).apply {\n            prepare(requireContext(), binding.streamingView)\n        }\n    }\n}\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Connect events to receive information that the SDK tells your application"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-kotlin",children:"class StreamingFragment : Fragment() {\n    private var streamer: FFLStreamer? = null\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        val streamer = FlipFlopLite.getStreamer(\n            accessToken,\n        ).apply {\n            prepare(requireContext(), binding.streamingView)\n        }\n        \n        lifecycleScope.launch {\n            streamer?.streamerEvent.collect { event ->\n                when (event) {\n                    is StreamerEvent.StreamStateChanged -> {\n                        when (event.state) {\n                            StreamState.PREPARED -> {\n                                // streaming is prepared\n                            }\n                            StreamState.PREPARING - {\n                                // streaming is preparing\n                            }\n                            StreamState.STARTED -> {\n                                // streaming is started\n                            }\n                            StreamState.STOPPED -> {\n                                // streaming is stopped\n                            }\n                            StreamState.CLOSED -> {\n                                // streaming is closed\n                            }\n                        }\n                    }\n                    is StreamerEvent.StreamerError -> {\n                        // handle error\n                    }\n                    else -> {\n                    \n                    }\n                }\n            }\n        }\n    }\n}\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Starting live streaming"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Call the FFLStreamer's enter() and start() functions to start broadcasting, and call the stop() and exit() functions to end broadcasting. For more information on why you need to call two functions instead of one, see a later article."}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-kotlin",children:"// start streaming\nstreamer?.enter()\nstreamer?.start()\n\n// stop streaming\nstreamer?.stop()\nstreamer?.exit()\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"5-watching-live",children:"5. Watching live"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Create a View for the StreamingViewFragment."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" encoding="utf-8"?>\n<androidx.constraintlayout.widget.ConstraintLayout\n   xmlns:android="http://schemas.android.com/apk/res/android"\n   xmlns:app="http://schemas.android.com/apk/res-auto"\n   xmlns:tools="http://schemas.android.com/tools"\n   android:layout_width="match_parent"\n   android:layout_height="match_parent">\n\n  <com.jocoos.flipflop.view.FFLLiveView\n     android:id="@+id/livePlayerView"\n     android:layout_width="match_parent"\n     android:layout_height="match_parent"\n     android:background="@color/black"\n     app:layout_constraintBottom_toBottomOf="parent"\n     app:layout_constraintTop_toTopOf="parent" />\n\n</androidx.constraintlayout.widget.ConstraintLayout>\n\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Create a StreamingViewFragment for viewing live."}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Create an FFLLivePlayer instance for live viewing. When creating an instance, you need access token, video room ID, and channel ID."}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-kotlin",children:"class StreamingViewFragment : Fragment() {\n    private var player: FFLLivePlayer? = null\n    \n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        val streamer = FlipFlopLite.getLivePlayer(\n            accessToken,\n            VIDEOROOM_ID,\n            CHANNEL_ID\n        ).apply {\n            prepare(requireContext(), binding.livePlayerView)\n        }\n    }\n}\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Connect events to receive information that the SDK tells your application."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-kotlin",children:"class StreamingViewFragment : Fragment() {\n    private var player: FFLLivePlayer? = null\n    \n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        val streamer = FlipFlopLite.getLivePlayer(\n            accessToken,\n            VIDEOROOM_ID,\n            CHANNEL_ID\n        ).apply {\n            prepare(requireContext(), binding.livePlayerView)\n        }\n        \n        lifecycleScope.launch {\n            player?.livePlayerEvent?.collect { event ->\n                when (event) {\n                    is PlayerEvent.PlayerStateChanged -> {\n                        when (event.state) {\n                            PlayerState.PREPARED -> {\n                                // player is prepared\n                            }\n                            PlayerState.STARTED -> {\n                                // player is started\n                            }\n                            PlayerState.BUFFERING -> {\n                                // player is buffering\n                            }\n                            PlayerState.STOPPED -> {\n                                // player is stopped\n                            }\n                            PlayerState.CLOSED -> {\n                                // player is closed\n                            }\n                        }\n                    }\n                    is PlayerEvent.PlayerError -> {\n                        // handle error\n                    }\n                }\n            }\n        }\n    }\n}\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Watching live"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Call FFLLivePlayer's enter() and start() functions to start watching, and stop() and exit() to end watching. See a later article on why you need to call two functions instead of one."}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-kotlin",children:"// start watching live\nplayer?.enter()\nplayer?.start()\n\n// stop watching live\nplayer?.stop()\nplayer?.exit()\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"6-next-step",children:"6. Next step"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"This is just a quick overview of how to use the SDK. For more information, check out the following articles."}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>s,x:()=>o});var t=i(6540);const r={},a=t.createContext(r);function s(e){const n=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);